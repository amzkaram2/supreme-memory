Name: Workflow_00b0

# Optional - Set automatic triggers.
Triggers:
  - Type: Push
    Branches:
      - main

# Required - Define action configurations.
Actions:
  DeployCloudFormationStack_ba:
    # Identifies the action. Do not modify this value.
    Identifier: aws/cfn-deploy@v1

    # Specifies the artifacts to pass to the action as input.
    # Replace MyTaskDefinitionArtifactName with one that exists in the Workflow
    # InputArtifacts:
    #  - MyTaskDefinitionArtifactName

    # Defines the action's properties.
    Configuration:
      # Required - Role ARN must have associated policies to deploy to Amazon CloudFormation.
      # Replace the Role ARN value with a valid Role ARN from the account you're deploying to.
      ActionRoleArn: arn:aws:iam::123456789012:role/DeployToCloudFormation

      # Required - The name of an existing Code.AWS Environment to attribute this deployment to.
      DeploymentEnvironment: Dev

      # Defines the action's runtime data.
      Parameters:
        # The template used for stack creation.
        template: ./MyTaskDefinitionArtifactName/taskdef.json
        # The name of the CloudFormation Stack.
        name: MyStack
        # The region to deploy the CloudFormation stack to.
        region: us-west-2
